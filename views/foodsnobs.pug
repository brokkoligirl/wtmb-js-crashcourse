extends layout


block content
    if people
        h2 All foodsnobs
        h4 This is everyone:
        ol
        each person in people 
            li: a.list(href=`/users/${person.id}`) #{person.name}, id: #{person.id} 

        hr

        h4 create new user 
        form(action="/users/submit", method="post")
            label name
            div: input(id="user_field" type="text" name="name")

            input(type="submit", value="create user")


    else
        h2 Details for #{person.name}
        p (id: #{person._id})
        h4 These are their ratings:
        ul
        each rating in person.ratings
            li: a.list(href=`/restaurants/${rating.restaurant.id}`) #{rating.rating}/10 for #{rating.restaurant.name} (visits: #{rating.visits})
        hr

        h4 submit new rating 
        form(action=`/users/${person._id}/submit-visit`, method="post")
            label restaurant id
            div: input(id="restaurant_field" type="string" name="restaurantID")
            label rating
            div: input(id="rating_field" type="number" name="rating")

            input(type="submit", value="submit rating")